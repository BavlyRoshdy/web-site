<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù†Ø¸Ø§Ù… Ø®Ø¯Ù…Ø© Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ Ø¨Ù†ÙŠÙ†</title>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background : linear-gradient(red ,blue);
      color: #272727;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    .intro, .main {
      display: none;
      padding: 20px;
    }

    .intro.active {
      display: block;
      background: 
      linear-gradient(180deg, #e6eeff, #ffffff)
       ,url(WhatsApp\ Image\ 2025-11-12\ at\ 11.20.01\ PM.jpeg) ;
      
      min-height: 100vh;
    }
     .intro.active:hover{
         background: linear-gradient( #e6eeff, transparent)   
         ,url(WhatsApp\ Image\ 2025-11-12\ at\ 11.20.01\ PM.jpeg);
         background-repeat: no-repeat;
         background-size: cover;
     }

    .main.active {
      display: block;
      background: #f0f4ff;
    }

    h1 {
      color: #004aad;
    }

    img {
      max-width: 200px;
      border-radius: 15px;
      margin: 10px 0;
    }

    p {
      font-size: 18px;
      margin: 8px 0;
    }

    button {
      background: #004aad;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #003080;
    }

    input, select {
      padding: 10px;
      margin: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    .student-list, .teams {
      margin-top: 20px;
      padding: 10px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .ff{
      justify-content: center;
      text-align: center;
    }

    .team {
      background: #e0ecff;
      margin: 10px;
      padding: 10px;
      border-radius: 8px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 8px;
    }

    th {
      background: #d6e4ff;
    }

    .absent {
      background-color: #ffcaca;
    }

    .points {
      background: #dfffd8;
      padding: 10px;
      border-radius: 10px;
      margin-top: 15px;
    }

    .logout {
      position: absolute;
      top: 15px;
      left: 15px;
      background: #ff4d4d;
    }

    .logout:hover {
      background: #cc0000;
    }
  </style>
</head>
<body>

  <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ -->
  <button class="logout" onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>

  <!-- ğŸ”¹ Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ÙŠØ© -->
  <div class="intro active" id="intro">
    <h1>â›ª ÙƒÙ†ÙŠØ³Ø© Ù…Ø§Ø±ÙŠ Ø¬Ø±Ø¬Ø³ Ø¥Ù…Ø¨Ø§Ø¨Ø© - Ø®Ø¯Ù…Ø© Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ Ø¨Ù†ÙŠÙ†</h1>
    <p id="welcome"></p>
    <img src="WhatsApp Image 2025-11-12 at 11.20.01 PM.jpeg" alt="Ù…Ø§Ø±Ø¬Ø±Ø¬Ø³">
    <p>Ø§Ø­Ù†Ø§ Ø¹Ù†Ø¯Ù†Ø§ Ù†Ø¸Ø§Ù… ğŸ”¥</p>
    <p>Ø£ÙˆÙ„ Ø­Ø§Ø¬Ø© Ø¨Ù†ÙØ·Ø± Ù…Ø¹ Ø¨Ø¹Ø¶ Ø¨Ø¹Ø¯ ÙƒØ¯Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø© (Ø§Ù„Ø£ÙƒÙ„ Ù¡Ù /Ù¡Ù  ğŸ‘)</p>
    <p>ÙˆØ¹Ù†Ø¯Ù†Ø§ Ù†Ø¸Ø§Ù… ÙƒØ§Ù‡ÙˆØªØŒ ÙØ±Ù‚ØŒ ÙˆÙƒÙˆØ±Ø© Ø¨Ø§Ù†ØªØ¸Ø§Ù… âš½</p>
    <p>ÙˆÙ…Ø¹Ø§Ù†Ø§ Ø£Ø¬Ù…Ù„ ÙˆØ£Ø­Ø³Ù† Ø§Ù„Ø®Ø¯Ø§Ù… â¤ï¸</p>
    <p>ÙˆØ£Ù‚ÙˆÙ‰ Ø£Ù…ÙŠÙ† ÙˆÙ…Ø¯Ø±Ø³ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ <strong>Ø¨Ø§Ø³ÙˆÙ† Ø±Ø§Ù…Ø²</strong> ğŸ“š</p>
    <img src="WhatsApp Image 2025-11-12 at 9.00.01 PM.jpeg" alt="ØµÙˆØ±Ø© Ø§Ù„Ø£Ù…ÙŠÙ†">
    <p>ÙˆÙƒÙ…Ø§Ù† Ø¹Ù†Ø¯Ù†Ø§ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¬Ù…ÙŠÙ„ Ø§Ù„Ù„ÙŠ ÙƒÙ„Ù†Ø§ Ø¨Ù†Ø­Ø¨Ù‡ â¤ï¸ <strong>Ø¨Ø§Ø³ÙˆÙ† Ø¬ÙˆØ±Ø¬ Ø¹ÙˆØ¶</strong></p>
    <img src="WhatsApp Image 2025-11-12 at 9.00.01 PM (1).jpeg" alt="Ø¨Ø§Ø³ÙˆÙ† Ø¬ÙˆØ±Ø¬" class="ff">
    <br>
    <button onclick="startSystem()">ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø¸Ø§Ù…</button>
  </div>

  <!-- ğŸ”¹ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <div class="main" id="main">
    <h1>ğŸ“‹ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±Ù‚ ÙˆØ§Ù„ØºÙŠØ§Ø¨</h1>

    <input type="text" id="studentName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
    <input type="number" id="studentNumber" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
    <input type="password" id="studentPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
    <button onclick="addStudent()">â• Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨</button>

    <div class="student-list">
      <h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨</h2>
      <table id="studentsTable">
        <tr>
          <th>Ø§Ù„Ø§Ø³Ù…</th>
          <th>Ø§Ù„Ø±Ù‚Ù…</th>
          <th>Ø§Ù„Ø­Ø¶ÙˆØ±</th>
        </tr>
      </table>
    </div>

    <div>
      <h2>ØªÙˆØ²ÙŠØ¹ Ø§Ù„ÙØ±Ù‚</h2>
      <select id="teamCount">
        <option value="2">2 ÙØ±Ù‚</option>
        <option value="3">3 ÙØ±Ù‚</option>
        <option value="4">4 ÙØ±Ù‚</option>
        <option value="5">5 ÙØ±Ù‚</option>
      </select>
      <button onclick="divideTeams()">ğŸ¯ ØªÙ‚Ø³ÙŠÙ… Ø¥Ù„Ù‰ ÙØ±Ù‚</button>
    </div>

    <div class="teams" id="teams"></div>

    <div class="points" id="pointsArea" style="display:none;">
      <h2>ğŸ… Ø§Ù„Ù†Ù‚Ø§Ø·</h2>
      <div id="pointsList"></div>
    </div>
  </div>

  <script>
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    const user = JSON.parse(localStorage.getItem("loggedUser"));
    if (!user) {
      alert("âš ï¸ ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ù‹Ø§");
      window.location.href = "index.html";
    }

    document.getElementById("welcome").innerHTML = `ğŸ‘‹ Ø£Ù‡Ù„Ø§Ù‹ ÙŠØ§ <strong>${user.name}</strong>!`;

    function logout() {
      localStorage.removeItem("loggedUser");
      window.location.href = "index.html";
    }

    // Ø§Ù„ØµÙØ­Ø©
    function startSystem() {
      document.getElementById("intro").classList.remove("active");
      document.getElementById("main").classList.add("active");
    }

    let students = [];
    let teamPoints = [];

    function addStudent() {
      const name = document.getElementById("studentName").value.trim();
      const number = document.getElementById("studentNumber").value.trim();
      const password = document.getElementById("studentPassword").value.trim();

      if (!name || !number || !password) {
        alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£ÙƒÙ…Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!");
        return;
      }

      students.push({ name, number, password, present: true });
      document.getElementById("studentName").value = "";
      document.getElementById("studentNumber").value = "";
      document.getElementById("studentPassword").value = "";
      displayStudents();
    }

    function displayStudents() {
      const table = document.getElementById("studentsTable");
      table.innerHTML = `
        <tr>
          <th>Ø§Ù„Ø§Ø³Ù…</th>
          <th>Ø§Ù„Ø±Ù‚Ù…</th>
          <th>Ø§Ù„Ø­Ø¶ÙˆØ±</th>
        </tr>
      `;
      students.forEach((s, i) => {
        const row = document.createElement("tr");
        row.className = s.present ? "" : "absent";
        row.innerHTML = `
          <td>${s.name}</td>
          <td>${s.number}</td>
          <td>
            <button onclick="togglePresence(${i})">
              ${s.present ? "âœ… Ø­Ø§Ø¶Ø±" : "âŒ ØºØ§Ø¦Ø¨"}
            </button>
          </td>
        `;
        table.appendChild(row);
      });
    }

    function togglePresence(index) {
      students[index].present = !students[index].present;
      displayStudents();
    }

    function divideTeams() {
      const count = parseInt(document.getElementById("teamCount").value);
      if (students.length < count) return alert("Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø£Ù‚Ù„ Ù…Ù† Ø¹Ø¯Ø¯ Ø§Ù„ÙØ±Ù‚!");

      const shuffled = [...students].sort(() => 0.5 - Math.random());
      const teams = Array.from({ length: count }, () => []);

      shuffled.forEach((student, i) => {
        teams[i % count].push(student);
      });

      const container = document.getElementById("teams");
      container.innerHTML = "";
      teamPoints = new Array(count).fill(0);

      teams.forEach((team, i) => {
        const div = document.createElement("div");
        div.className = "team";
        div.innerHTML = `
          <h3>ÙØ±ÙŠÙ‚ ${i + 1}</h3>
          <ul>${team.map(s => `<li>${s.name}</li>`).join("")}</ul>
          <button onclick="addPoint(${i})">ğŸ† +10 Ù†Ù‚Ø§Ø·</button>
        `;
        container.appendChild(div);
      });

      document.getElementById("pointsArea").style.display = "block";
      updatePoints();
    }

    function addPoint(teamIndex) {
      teamPoints[teamIndex] += 10;
      updatePoints();
    }

    function updatePoints() {
      const list = document.getElementById("pointsList");
      list.innerHTML = teamPoints.map((p, i) => `<p>ÙØ±ÙŠÙ‚ ${i + 1}: ${p} Ù†Ù‚Ø·Ø©</p>`).join("");
    }
  </script>
</body>
</html>